<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Enhanced Diagram Detection Test</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .test-section { margin: 30px 0; padding: 20px; border: 1px solid #ccc; border-radius: 8px; }
        h2 { color: #333; }
        pre { background: #f5f5f5; padding: 10px; border-radius: 4px; }
        code { background: #f0f0f0; padding: 2px 4px; border-radius: 3px; }
        p { margin: 10px 0; }
    </style>
</head>
<body>
    <h1>Enhanced Diagram Detection Test Cases</h1>
    <p>This file tests the enhanced diagram detection capabilities for mixed HTML content from LLMs.</p>

    <div class="test-section">
        <h2>Test 1: Traditional &lt;pre&gt;&lt;code&gt; Block (Mermaid)</h2>
        <p>This should be detected with HIGH confidence:</p>
        <pre><code class="language-mermaid">
graph TD
    A[Start] --> B{Decision}
    B -->|Yes| C[Action 1]
    B -->|No| D[Action 2]
    C --> E[End]
    D --> E
        </code></pre>
    </div>

    <div class="test-section">
        <h2>Test 2: Traditional &lt;pre&gt;&lt;code&gt; Block (D2)</h2>
        <p>This should be detected with HIGH confidence:</p>
        <pre><code class="language-d2">
users -> web server
web server -> database
database -> web server
web server -> users

web server.shape: rectangle
database.shape: cylinder
        </code></pre>
    </div>

    <div class="test-section">
        <h2>Test 3: Inline &lt;code&gt; with Mermaid</h2>
        <p>Here's some inline Mermaid code: <code>sequenceDiagram
    Alice->>Bob: Hello Bob
    Bob-->>Alice: Hello Alice</code> that should be detected with MEDIUM confidence.</p>
    </div>

    <div class="test-section">
        <h2>Test 4: Inline &lt;code&gt; with D2</h2>
        <p>And here's some D2 code: <code>client -> server: request
server -> database: query
database -> server: response
server -> client: result</code> with medium confidence detection.</p>
    </div>

    <div class="test-section">
        <h2>Test 5: Paragraph with Mermaid-like Content</h2>
        <p>flowchart LR
    Start --> Process
    Process --> Decision{Question?}
    Decision -->|Yes| End1[Result A]
    Decision -->|No| End2[Result B]</p>
        <p>The above paragraph contains diagram syntax that should be detected with LOW confidence.</p>
    </div>

    <div class="test-section">
        <h2>Test 6: Paragraph with D2-like Content</h2>
        <p>user -> frontend: login request
frontend -> backend: authenticate
backend -> database: check credentials
database -> backend: user data
backend -> frontend: auth token
frontend -> user: success</p>
        <p>This paragraph should be detected as D2 syntax with LOW confidence.</p>
    </div>

    <div class="test-section">
        <h2>Test 7: Mixed Content with Multiple Diagrams</h2>
        <p>Here's a complex response that might come from an LLM:</p>
        
        <p>Let me show you the system architecture:</p>
        <pre><code>
classDiagram
    class User {
        +String username
        +String email
        +login()
        +logout()
    }
    class System {
        +authenticate(user)
        +authorize(action)
    }
    User --> System : uses
        </code></pre>
        
        <p>And here's the data flow: <code>client -> server -> database -> server -> client</code></p>
        
        <p>The complete sequence would be:
participant User
participant Frontend
participant Backend
participant Database
User->>Frontend: Request
Frontend->>Backend: API Call
Backend->>Database: Query
Database-->>Backend: Data
Backend-->>Frontend: Response
Frontend-->>User: Display</p>
    </div>

    <div class="test-section">
        <h2>Test 8: False Positives (Should NOT be detected)</h2>
        <p>This is just regular text with arrows -> like this and some code words like graph, but not actual diagram syntax.</p>
        <code>const result = data.map(item => item.value)</code>
        <p>Single arrows or connections shouldn't trigger detection: a -> b</p>
    </div>

</body>
</html>